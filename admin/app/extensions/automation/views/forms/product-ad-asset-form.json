{
  "id": "product-ad-asset-form",
  "fields": [
    {
      "name": "product_id",
      "label": "i18n:automation.product_ad_assets.field.product_id",
      "type": "select",
      "required": true,
      "source": "api/product?per_page=1000",
      "sourceValue": "id",
      "sourceLabel": "name",
      "validation": "required"
    },
    {
      "name": "ad_platform",
      "label": "i18n:automation.product_ad_assets.field.ad_platform",
      "type": "select",
      "required": true,
      "options": [
        {"value": "", "label": "i18n:core.form.select.placeholder"},
        {"value": "facebook", "label": "i18n:automation.credentials.ad_platform.facebook"},
        {"value": "google", "label": "i18n:automation.credentials.ad_platform.google"},
        {"value": "tiktok", "label": "i18n:automation.credentials.ad_platform.tiktok"}
      ],
      "validation": "required"
    },
    {
      "name": "ad_asset_type",
      "label": "i18n:automation.product_ad_assets.field.ad_asset_type",
      "type": "select",
      "required": true,
      "options": [
        {"value": "", "label": "i18n:core.form.select.placeholder"},
        {"value": "campaign", "label": "i18n:automation.product_ad_assets.asset_type.campaign"},
        {"value": "adset", "label": "i18n:automation.product_ad_assets.asset_type.adset"},
        {"value": "ad", "label": "i18n:automation.product_ad_assets.asset_type.ad"}
      ],
      "validation": "required"
    },
    {
      "name": "ad_asset_id",
      "label": "i18n:automation.product_ad_assets.field.ad_asset_id",
      "type": "text",
      "required": true,
      "placeholder": "i18n:automation.product_ad_assets.field.ad_asset_id_placeholder",
      "validation": "required|min:5|max:100"
    },
    {
      "name": "ad_asset_name",
      "label": "i18n:automation.product_ad_assets.field.ad_asset_name",
      "type": "text",
      "placeholder": "i18n:automation.product_ad_assets.field.ad_asset_name_placeholder",
      "validation": "max:255"
    },
    {
      "name": "credential_id",
      "label": "i18n:automation.product_ad_assets.field.credential_id",
      "type": "select",
      "required": true,
      "source": "api/credential?type=ad&status=1&per_page=1000",
      "sourceValue": "id",
      "sourceLabel": "name",
      "validation": "required",
      "help": "i18n:automation.product_ad_assets.field.credential_id_help"
    },
    {
      "name": "timezone",
      "label": "i18n:automation.product_ad_assets.field.timezone",
      "type": "select",
      "required": true,
      "source": "api/credential/timezones",
      "sourceValue": "value",
      "sourceLabel": "label",
      "defaultValue": "America/Guayaquil",
      "validation": "required",
      "help": "i18n:automation.product_ad_assets.field.timezone_help"
    },
    {
      "type": "html",
      "content": "<div style='background: #f0f9ff; padding: 1rem; border-radius: 6px; margin: 1.5rem 0; border-left: 4px solid #3b82f6;'><strong>⚙️ Configuración de Reset Automático</strong><p style='margin: 0.5rem 0 0; font-size: 0.9rem;'>El presupuesto se reseteará automáticamente cada día a la hora configurada según la zona horaria de la cuenta publicitaria.</p></div>"
    },
    {
      "name": "auto_reset_budget",
      "label": "i18n:automation.product_ad_assets.field.auto_reset_budget",
      "type": "checkbox",
      "default": true
    },
    {
      "name": "reset_type",
      "label": "i18n:automation.product_ad_assets.field.reset_type",
      "type": "select",
      "required": true,
      "options": [
        {
          "value": "fixed",
          "label": "i18n:automation.product_ad_assets.reset_type.fixed"
        },
        {
          "value": "roas_based",
          "label": "i18n:automation.product_ad_assets.reset_type.roas_based"
        }
      ],
      "defaultValue": "fixed",
      "validation": "required",
      "help": "i18n:automation.product_ad_assets.field.reset_type_help",
      "condition": [
        {
          "field": "auto_reset_budget",
          "operator": "=",
          "value": true
        }
      ]
    },
    {
      "type": "group",
      "columns": 2,
      "gap": "normal",
      "condition": [
        {
          "field": "auto_reset_budget",
          "operator": "=",
          "value": true
        }
      ],
      "fields": [
        {
          "name": "base_daily_budget",
          "label": "i18n:automation.product_ad_assets.field.base_daily_budget",
          "type": "number",
          "required": true,
          "placeholder": "2.50",
          "min": 0.01,
          "step": 0.01,
          "validation": "required|min:0.01",
          "help": "i18n:automation.product_ad_assets.field.base_daily_budget_help"
        },
        {
          "name": "reset_time",
          "label": "i18n:automation.product_ad_assets.field.reset_time",
          "type": "time",
          "required": true,
          "defaultValue": "00:00",
          "validation": "required",
          "help": "i18n:automation.product_ad_assets.field.reset_time_help"
        }
      ]
    },
    {
      "name": "max_daily_budget",
      "label": "i18n:automation.product_ad_assets.field.max_daily_budget",
      "type": "number",
      "required": true,
      "placeholder": "10.00",
      "min": 0.01,
      "step": 0.01,
      "validation": "required|min:0.01",
      "help": "i18n:automation.product_ad_assets.field.max_daily_budget_help",
      "condition": [
        {
          "field": "auto_reset_budget",
          "operator": "=",
          "value": true
        },
        {
          "field": "reset_type",
          "operator": "=",
          "value": "roas_based"
        }
      ]
    },
    {
      "name": "notes",
      "label": "i18n:automation.product_ad_assets.field.notes",
      "type": "textarea",
      "placeholder": "i18n:automation.product_ad_assets.field.notes_placeholder"
    }
  ],
  "statusbar": [
    {"name": "is_active", "type": "checkbox", "label": "i18n:automation.product_ad_assets.field.is_active", "default": true, "align": "left"},
    {"name": "cancel", "type": "button", "label": "i18n:core.cancel", "action": "call:ogModal.closeAll", "style": "secondary", "align": "right"},
    {"name": "submit", "type": "button", "label": "i18n:core.save", "action": "submit:productAdAsset.save", "align": "right"}
  ]
}
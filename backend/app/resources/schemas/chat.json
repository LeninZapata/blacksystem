{
  "resource": "chat",
  "table": "chats",
  "timestamps": true,
  "middleware": ["throttle:100,1"],
  "routes": {
    "list": {"method": "GET", "path": "/api/chat", "middleware": ["auth"]},
    "show": {"method": "GET", "path": "/api/chat/{id}", "middleware": ["auth"]},
    "create": {"method": "POST", "path": "/api/chat", "middleware": ["auth", "json"]},
    "update": {"method": "PUT", "path": "/api/chat/{id}", "middleware": ["auth", "json"]},
    "delete": {"method": "DELETE", "path": "/api/chat/{id}", "middleware": ["auth"]}
  },
  "fields": [
    { "name": "user_id", "type": "int", "required": true },
    { "name": "bot_id", "type": "int", "required": true },
    { "name": "bot_number", "type": "string", "maxLength": 20, "required": true },
    { "name": "client_id", "type": "int", "required": true },
    { "name": "client_number", "type": "string", "maxLength": 20, "required": true },
    { "name": "type", "type": "string", "maxLength": 1, "default": "P", "description": "S=Sistema, B=Bot, P=Prospecto" },
    { "name": "format", "type": "string", "maxLength": 25, "default": "text", "description": "text, audio, image, video, document, sticker, location, contact, etc." },
    { "name": "message", "type": "text", "required": false },
    { "name": "metadata", "type": "json", "required": false },
    { "name": "status", "type": "tinyint", "required": false, "default": 1, "description": "0: inactivo/eliminado, 1: activo" },
    { "name": "dc", "type": "datetime" },
    { "name": "du", "type": "datetime" },
    { "name": "tc", "type": "int" },
    { "name": "tu", "type": "int" }
  ]
}
{
  "id": "credential-form",
  "title": "i18n:automation.credentials.form.title",
  "description": "i18n:automation.credentials.form.description",
  "fields": [
    {
      "name": "name",
      "label": "i18n:automation.credentials.field.name",
      "type": "text",
      "required": true,
      "placeholder": "i18n:automation.credentials.field.name_placeholder",
      "validation": "required|min:3|max:200"
    },
    {
      "name": "type",
      "label": "i18n:automation.credentials.field.type",
      "type": "select",
      "required": true,
      "options": [
        {"value": "", "label": "i18n:core.form.select.placeholder"},
        {"value": "ai-agent", "label": "i18n:automation.credentials.type.ai_agent"},
        {"value": "chat", "label": "i18n:automation.credentials.type.chat"}
      ],
      "validation": "required"
    },
    {
      "name": "ai_agent",
      "label": "i18n:automation.credentials.field.ai_agent",
      "type": "select",
      "required": true,
      "options": [
        {"value": "", "label": "i18n:core.form.select.placeholder"},
        {"value": "openai", "label": "OpenAI"},
        {"value": "deepseek", "label": "Deepseek"}
      ],
      "validation": "required",
      "condition": [
        {"field": "type", "operator": "==", "value": "ai-agent"}
      ],
      "conditionContext": "form"
    },
    {
      "name": "api_token",
      "label": "i18n:automation.credentials.field.api_token",
      "type": "text",
      "required": true,
      "placeholder": "i18n:automation.credentials.field.api_token_placeholder",
      "validation": "required|min:10",
      "condition": [
        {"field": "type", "operator": "==", "value": "ai-agent"}
      ],
      "conditionContext": "form"
    },
    {
      "name": "chat_api",
      "label": "i18n:automation.credentials.field.chat_api",
      "type": "select",
      "required": true,
      "options": [
        {"value": "", "label": "i18n:core.form.select.placeholder"},
        {"value": "evolutionapi", "label": "Evolution API"}
      ],
      "validation": "required",
      "condition": [
        {"field": "type", "operator": "==", "value": "chat"}
      ],
      "conditionContext": "form"
    },
    {
      "name": "chat_info",
      "type": "html",
      "content": "<div style='background:#f0f9ff;border-left:4px solid #3b82f6;padding:1rem;margin:1rem 0;border-radius:4px;'><p style='margin:0;color:#1e40af;font-size:0.9rem;'><strong>ℹ️ Nota:</strong> Por el momento solo se maneja 1 servidor de Evolution API, por lo que no es necesario agregar configuraciones adicionales de conexión. En futuras versiones se podrán agregar aquí los campos de conexión para diferentes servidores de Chat API.</p></div>",
      "condition": [
        {"field": "type", "operator": "==", "value": "chat"}
      ],
      "conditionContext": "form"
    }
  ],
  "statusbar": [
    {"name": "cancel", "type": "button", "label": "i18n:core.cancel", "action": "call:modal.closeAll", "style": "secondary"},
    {"name": "submit", "type": "button", "label": "i18n:core.save", "action": "submit:credential.save"}
  ]
}
